@startuml
title foobar
participant "a"
participant "b"
participant "c"
database "db"
participant "events"
participant "external"
"a" -> "b": req
activate "b"
"a" -> "events": event a
"b" -> "c": b-to-c req
activate "c"
"b" <-> "db": bidi-b req-resp
"c" -> "external": c-to-external req
activate "external"

"external" --> "c": c-to-external resp
deactivate "external"
"c" --> "b": b-to-c resp
deactivate "c"
"b" --> "a": resp
deactivate "b"
    @enduml